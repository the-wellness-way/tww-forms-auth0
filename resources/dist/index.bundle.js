(()=>{"use strict";class e{constructor(e,t,r,n){this.data=e,this.headers=t,this.status=r,this.statusText=n}static async fromResponse(t){const r=await t.json();return new e(r,t.headers,t.status,t.statusText)}}class t{constructor(e,t,r){this.headers=e,this.status=t,this.statusText=r}static async fromResponse(e){return new t(e.headers,e.status,e.statusText)}}class r{constructor(e,t,r,n){this.data=e,this.headers=t,this.status=r,this.statusText=n}static async fromResponse(e){const t=await e.text();return new r(t,e.headers,e.status,e.statusText)}}function n(e,{maxRetries:t,retryWhen:r}){const n=Math.min(10,null!=t?t:3);let i=0;const a=async()=>{let t;if(t=await e(),(r||[429]).includes(t.status)&&i<n){i++;let e=500*Math.pow(2,i-1);s=e+1,o=e+250,s=Math.ceil(s),o=Math.floor(o),e=Math.floor(Math.random()*(o-s)+s),e=Math.min(e,1e4),await async function(e){return new Promise((t=>setTimeout(t,e)))}(e),t=await a()}var s,o;return t};return a()}class i extends Error{constructor(e,t,r,n){super(n),this.statusCode=e,this.body=t,this.headers=r,this.name="ResponseError"}}class a extends Error{constructor(){super("The request was timed out."),this.name="TimeoutError"}}class s extends Error{constructor(e,t){super(t),this.cause=e,this.name="FetchError"}}class o extends Error{constructor(e,t){super(t),this.field=e,this.name="RequiredError"}}class c{constructor(e){if(this.configuration=e,this.fetchWithTimeout=async(e,t)=>{const r=new AbortController,n=setTimeout((()=>{r.abort()}),this.timeoutDuration);try{return await this.fetchApi(e,{signal:r.signal,...t})}catch(e){if("AbortError"===e.name)throw new a;throw e}finally{clearTimeout(n)}},this.fetch=async(e,t)=>{var r;let i,a,o={url:e,init:t};for(const e of this.middleware)e.pre&&(o=await e.pre({fetch:this.fetchWithTimeout,...o})||o);try{i=!1!==(null===(r=this.configuration.retry)||void 0===r?void 0:r.enabled)?await n((()=>this.fetchWithTimeout(o.url,o.init)),{...this.configuration.retry}):await this.fetchWithTimeout(o.url,o.init)}catch(e){a=e}if(a||!i.ok){for(const e of this.middleware)e.onError&&(i=await e.onError({fetch:this.fetchWithTimeout,...o,error:a,response:i?i.clone():void 0})||i);if(void 0===i)throw new s(a,"The request failed and the interceptors did not return an alternative response")}else for(const e of this.middleware)e.post&&(i=await e.post({fetch:this.fetchApi,...o,response:i.clone()})||i);return i},null===e.baseUrl||void 0===e.baseUrl)throw new Error("Must provide a base URL for the API");if("string"!=typeof e.baseUrl||0===e.baseUrl.length)throw new Error("The provided base URL is invalid");this.middleware=e.middleware||[],this.fetchApi=e.fetch||fetch,this.parseError=e.parseError,this.timeoutDuration="number"==typeof e.timeoutDuration?e.timeoutDuration:1e4}async request(e,t){const{url:r,init:n}=await this.createFetchParams(e,t),i=await this.fetch(r,n);if(i&&i.status>=200&&i.status<300)return i;throw await this.parseError(i)}async createFetchParams(e,t){let r=this.configuration.baseUrl+e.path;var n;void 0!==e.query&&0!==Object.keys(e.query).length&&(r+=`?${n=e.query,Object.keys(n).map((e=>function(e,t){if(t instanceof Array){const r=t.map((e=>encodeURIComponent(String(e)))).join(`&${encodeURIComponent(e)}=`);return`${encodeURIComponent(e)}=${r}`}return`${encodeURIComponent(e)}=${encodeURIComponent(String(t))}`}(e,n[e]))).filter((e=>e.length>0)).join("&")}`);const i=Object.assign({},this.configuration.headers,e.headers);Object.keys(i).forEach((e=>void 0===i[e]?delete i[e]:{}));const a="function"==typeof t?t:async()=>t,s={method:e.method,headers:i,body:e.body,dispatcher:this.configuration.agent},o={...s,...await a({init:s,context:e})};return{url:r,init:{...o,body:o.body instanceof FormData||o.body instanceof URLSearchParams||o.body instanceof Blob?o.body:JSON.stringify(o.body)}}}}function d(e,t){t.forEach((t=>{if(null===e[t]||void 0===e[t])throw new o(t,`Required parameter requestParameters.${t} was null or undefined.`)}))}const h=new TextEncoder,u=new TextDecoder;function l(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.length})),r}const p=e=>(e=>{let t=e;"string"==typeof t&&(t=h.encode(t));const r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),f=e=>{let t=e;t instanceof Uint8Array&&(t=u.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(e=>{const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r})(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}},y=crypto,m=e=>e instanceof CryptoKey;class w extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class g extends w{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}}class S extends w{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}}class b extends w{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class A extends w{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class E extends w{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class _ extends w{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class v extends w{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class T extends w{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class k extends w{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Symbol.asyncIterator;class R extends w{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class C extends w{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}const I=(e,t,r=0)=>{0===r&&(t.unshift(t.length),t.unshift(6));let n=e.indexOf(t[0],r);if(-1===n)return!1;const i=e.subarray(n,n+t.length);return i.length===t.length&&(i.every(((e,r)=>e===t[r]))||I(e,t,n+1))},P=e=>{switch(!0){case I(e,[42,134,72,206,61,3,1,7]):return"P-256";case I(e,[43,129,4,0,34]):return"P-384";case I(e,[43,129,4,0,35]):return"P-521";case I(e,[43,101,110]):return"X25519";case I(e,[43,101,111]):return"X448";case I(e,[43,101,112]):return"Ed25519";case I(e,[43,101,113]):return"Ed448";default:throw new A("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},H=async(e,t,r,n,i)=>{var a;let s,o;const c=new Uint8Array(atob(r.replace(e,"")).split("").map((e=>e.charCodeAt(0)))),d="spki"===t;switch(n){case"PS256":case"PS384":case"PS512":s={name:"RSA-PSS",hash:`SHA-${n.slice(-3)}`},o=d?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":s={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${n.slice(-3)}`},o=d?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":s={name:"RSA-OAEP",hash:`SHA-${parseInt(n.slice(-3),10)||1}`},o=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":s={name:"ECDSA",namedCurve:"P-256"},o=d?["verify"]:["sign"];break;case"ES384":s={name:"ECDSA",namedCurve:"P-384"},o=d?["verify"]:["sign"];break;case"ES512":s={name:"ECDSA",namedCurve:"P-521"},o=d?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{const e=P(c);s=e.startsWith("P-")?{name:"ECDH",namedCurve:e}:{name:e},o=d?[]:["deriveBits"];break}case"EdDSA":s={name:P(c)},o=d?["verify"]:["sign"];break;default:throw new A('Invalid or unsupported "alg" (Algorithm) value')}return y.subtle.importKey(t,c,s,null!==(a=null==i?void 0:i.extractable)&&void 0!==a&&a,o)};const W=async e=>{var t,r;if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:n,keyUsages:i}=function(e){let t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:`SHA-${e.alg.slice(-3)}`},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new A(`${e.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new A('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new A('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new A('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new A('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new A('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),a=[n,null!==(t=e.ext)&&void 0!==t&&t,null!==(r=e.key_ops)&&void 0!==r?r:i];if("PBKDF2"===n.name)return y.subtle.importKey("raw",f(e.k),...a);const s={...e};return delete s.alg,delete s.use,y.subtle.importKey("jwk",s,...a)};function D(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}async function O(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return((e,t,r)=>H(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r))(e,t,r)}function K(e,t){const r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new A(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}const x=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function J(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function $(e,t){return e.name===t}function U(e){return parseInt(e.name.slice(4),10)}function j(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}function M(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!$(e.algorithm,"HMAC"))throw J("HMAC");const r=parseInt(t.slice(2),10);if(U(e.algorithm.hash)!==r)throw J(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!$(e.algorithm,"RSASSA-PKCS1-v1_5"))throw J("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(U(e.algorithm.hash)!==r)throw J(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!$(e.algorithm,"RSA-PSS"))throw J("RSA-PSS");const r=parseInt(t.slice(2),10);if(U(e.algorithm.hash)!==r)throw J(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw J("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!$(e.algorithm,"ECDSA"))throw J("ECDSA");const r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw J(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}j(e,r)}function N(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const L=(e,...t)=>N("Key must be ",e,...t);function q(e,t,...r){return N(`Key for the ${e} algorithm must be `,t,...r)}const F=e=>m(e),V=["CryptoKey"];function G(e,t,r){if(m(t))return M(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(L(t,...V));return y.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw new TypeError(L(t,...V,"Uint8Array"))}const z=async(e,t,r)=>{const n=await G(e,t,"sign");x(e,n);const i=await y.subtle.sign(K(e,n.algorithm),n,r);return new Uint8Array(i)},B=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0},X=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!F(t))throw new TypeError(q(e,t,...V,"Uint8Array"));if("secret"!==t.type)throw new TypeError(`${V.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((e,t,r)=>{if(!F(t))throw new TypeError(q(e,t,...V));if("secret"===t.type)throw new TypeError(`${V.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw new TypeError(`${V.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw new TypeError(`${V.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw new TypeError(`${V.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw new TypeError(`${V.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,r)};const Y=function(e,t,r,n,i){if(void 0!==i.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of n.crit){if(!a.has(t))throw new A(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(a.get(t)&&void 0===n[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(n.crit)};class Q{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new E("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!B(this._protectedHeader,this._unprotectedHeader))throw new E("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader};let n=!0;if(Y(E,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,r).has("b64")&&(n=this._protectedHeader.b64,"boolean"!=typeof n))throw new E('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:i}=r;if("string"!=typeof i||!i)throw new E('JWS "alg" (Algorithm) Header Parameter missing or invalid');X(i,e,"sign");let a,s=this._payload;n&&(s=h.encode(p(s))),a=this._protectedHeader?h.encode(p(JSON.stringify(this._protectedHeader))):h.encode("");const o=l(a,h.encode("."),s),c=await z(i,e,o),d={signature:p(c),payload:""};return n&&(d.payload=u.decode(s)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=u.decode(a)),d}}class Z{constructor(e){this._flattened=new Q(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const r=await this._flattened.sign(e,t);if(void 0===r.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}const ee=e=>Math.floor(e.getTime()/1e3),te=86400,re=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,ne=e=>{const t=re.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*te);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}};class ie{constructor(e){if(!D(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:ee(new Date)+ne(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:ee(new Date)+ne(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:ee(new Date)}:{...this._payload,iat:e},this}}class ae extends ie{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;const n=new Z(h.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new _("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}const se={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let oe;const ce=new Uint8Array(16);function de(){if(!oe&&(oe="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(ce)}const he=[];for(let e=0;e<256;++e)he.push((e+256).toString(16).slice(1));function ue(e,t=0){return he[e[t+0]]+he[e[t+1]]+he[e[t+2]]+he[e[t+3]]+"-"+he[e[t+4]]+he[e[t+5]]+"-"+he[e[t+6]]+he[e[t+7]]+"-"+he[e[t+8]]+he[e[t+9]]+"-"+he[e[t+10]]+he[e[t+11]]+he[e[t+12]]+he[e[t+13]]+he[e[t+14]]+he[e[t+15]]}const le=function(e,t,r){if(se.randomUUID&&!t&&!e)return se.randomUUID();const n=(e=e||{}).random||(e.rng||de)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return ue(n)},pe=p,fe=f;class ye{constructor(e){this.clientInfo=e.clientInfo||{name:"node-auth0",version:"4.10.0",env:{node:process.version.replace("v","")}}}async pre(e){return"string"==typeof this.clientInfo.name&&this.clientInfo.name.length>0&&(e.init.headers={...e.init.headers,"Auth0-Client":pe(JSON.stringify(this.clientInfo))}),{url:e.url,init:e.init}}}class me extends Error{constructor(e,t,r,n,i){super(t||e),this.error=e,this.error_description=t,this.statusCode=r,this.body=n,this.headers=i,this.name="AuthApiError"}}async function we(e){const t=await e.text();try{const r=function(e){const t=JSON.parse(e);let r;return r=t.error?t:{error:t.code,error_description:t.description},r}(t);return new me(r.error,r.error_description,e.status,t,e.headers)}catch(r){return new i(e.status,t,e.headers,"Response returned an error code")}}class ge extends c{constructor(e){super({...e,baseUrl:`https://${e.domain}`,middleware:!1!==e.telemetry?[new ye(e)]:[],parseError:we,retry:{enabled:!1,...e.retry}}),this.domain=e.domain,this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.clientAssertionSigningKey=e.clientAssertionSigningKey,this.clientAssertionSigningAlg=e.clientAssertionSigningAlg,this.useMTLS=e.useMTLS}async addClientAuthentication(e){return(async({payload:e,domain:t,clientId:r,clientAssertionSigningKey:n,clientAssertionSigningAlg:i,clientSecret:a,useMTLS:s})=>{const o=e.client_id||r;if(n&&!e.client_assertion){const r=i||"RS256",a=await O(n,r);e.client_assertion=await new ae({}).setProtectedHeader({alg:r}).setIssuedAt().setSubject(o).setJti(le()).setIssuer(o).setAudience(`https://${t}/`).setExpirationTime("2mins").sign(a),e.client_assertion_type="urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}else a&&!e.client_secret&&(e.client_secret=a);if(!(e.client_secret&&0!==e.client_secret.trim().length||e.client_assertion&&0!==e.client_assertion.trim().length||s))throw new Error("The client_secret or client_assertion field is required, or it should be mTLS request.");return e})({payload:e,domain:this.domain,clientId:this.clientId,clientSecret:this.clientSecret,clientAssertionSigningKey:this.clientAssertionSigningKey,clientAssertionSigningAlg:this.clientAssertionSigningAlg,useMTLS:this.useMTLS})}}async function Se(t,r,{idTokenValidateOptions:n,initOverrides:i}={},a,s,o){const c=await o({path:"/oauth/token",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:a,...r,grant_type:t})},i),d=await e.fromResponse(c);return d.data.id_token&&await s.validate(d.data.id_token,n),d}class be extends ge{async signUp(t,r){d(t,["email","password","connection"]);const n=await this.request({path:"/dbconnections/signup",method:"POST",headers:{"Content-Type":"application/json"},body:{client_id:this.clientId,...t}},r);return e.fromResponse(n)}async changePassword(e,t){d(e,["email","connection"]);const n=await this.request({path:"/dbconnections/change_password",method:"POST",headers:{"Content-Type":"application/json"},body:{client_id:this.clientId,...e}},t);return r.fromResponse(n)}}const Ae=async(e,t,r)=>{let n,i,a=!1;"function"==typeof AbortController&&(n=new AbortController,i=setTimeout((()=>{a=!0,n.abort()}),t));const s=await fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:r.headers}).catch((e=>{if(a)throw new R;throw e}));if(void 0!==i&&clearTimeout(i),200!==s.status)throw new w("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch(e){throw new w("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function Ee(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(_e)}function _e(e){return D(e)}class ve{constructor(e){if(this._cached=new WeakMap,!Ee(e))throw new v("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:n}={...e,...null==t?void 0:t.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new A('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter((e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),{0:s,length:o}=a;if(0===o)throw new T;if(1!==o){const e=new k,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await Te(t,e,r)}catch(e){continue}},e}return Te(this._cached,s,r)}}async function Te(e,t,r){const n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){const e=await async function(e,t,r){var n;if(!D(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?W({...e,alg:t,ext:null!==(n=e.ext)&&void 0!==n&&n}):f(e.k);case"RSA":if(void 0!==e.oth)throw new A('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return W({...e,alg:t});default:throw new A('Unsupported "kty" (Key Type) Parameter value')}}({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new v("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}class ke extends ve{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof T&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=Ae(this._url,this._timeoutDuration,this._options).then((e=>{if(!Ee(e))throw new v("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch}}const Re=async(e,t,r,n)=>{const i=await G(e,t,"verify");x(e,i);const a=K(e,i.algorithm);try{return await y.subtle.verify(a,i,r,n)}catch(e){return!1}},Ce=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function Ie(e,t,r){if(e instanceof Uint8Array&&(e=u.decode(e)),"string"!=typeof e)throw new E("Compact JWS must be a string or Uint8Array");const{0:n,1:i,2:a,length:s}=e.split(".");if(3!==s)throw new E("Invalid Compact JWS");const o=await async function(e,t,r){var n;if(!D(e))throw new E("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new E('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new E("JWS Protected Header incorrect type");if(void 0===e.payload)throw new E("JWS Payload missing");if("string"!=typeof e.signature)throw new E("JWS Signature missing or incorrect type");if(void 0!==e.header&&!D(e.header))throw new E("JWS Unprotected Header incorrect type");let i={};if(e.protected)try{const t=f(e.protected);i=JSON.parse(u.decode(t))}catch(e){throw new E("JWS Protected Header is invalid")}if(!B(i,e.header))throw new E("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const a={...i,...e.header};let s=!0;if(Y(E,new Map([["b64",!0]]),null==r?void 0:r.crit,i,a).has("b64")&&(s=i.b64,"boolean"!=typeof s))throw new E('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=a;if("string"!=typeof o||!o)throw new E('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=r&&Ce("algorithms",r.algorithms);if(c&&!c.has(o))throw new b('"alg" (Algorithm) Header Parameter not allowed');if(s){if("string"!=typeof e.payload)throw new E("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new E("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(i,e),d=!0),X(o,t,"verify");const p=l(h.encode(null!==(n=e.protected)&&void 0!==n?n:""),h.encode("."),"string"==typeof e.payload?h.encode(e.payload):e.payload);let y,m;try{y=f(e.signature)}catch(e){throw new E("Failed to base64url decode the signature")}if(!await Re(o,t,y,p))throw new C;if(s)try{m=f(e.payload)}catch(e){throw new E("Failed to base64url decode the payload")}else m="string"==typeof e.payload?h.encode(e.payload):e.payload;const w={payload:m};return void 0!==e.protected&&(w.protectedHeader=i),void 0!==e.header&&(w.unprotectedHeader=e.header),d?{...w,key:t}:w}({payload:i,protected:n,signature:a},t,r),c={payload:o.payload,protectedHeader:o.protectedHeader};return"function"==typeof t?{...c,key:o.key}:c}const Pe=e=>e.toLowerCase().replace(/^application\//,""),He=(e,t,r={})=>{const{typ:n}=r;if(n&&("string"!=typeof e.typ||Pe(e.typ)!==Pe(n)))throw new g('unexpected "typ" JWT header value',"typ","check_failed");let i;try{i=JSON.parse(u.decode(t))}catch(e){}if(!D(i))throw new _("JWT Claims Set must be a top-level JSON object");const{requiredClaims:a=[],issuer:s,subject:o,audience:c,maxTokenAge:d}=r;void 0!==d&&a.push("iat"),void 0!==c&&a.push("aud"),void 0!==o&&a.push("sub"),void 0!==s&&a.push("iss");for(const e of new Set(a.reverse()))if(!(e in i))throw new g(`missing required "${e}" claim`,e,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(i.iss))throw new g('unexpected "iss" claim value',"iss","check_failed");if(o&&i.sub!==o)throw new g('unexpected "sub" claim value',"sub","check_failed");if(c&&(h=i.aud,l="string"==typeof c?[c]:c,!("string"==typeof h?l.includes(h):Array.isArray(h)&&l.some(Set.prototype.has.bind(new Set(h))))))throw new g('unexpected "aud" claim value',"aud","check_failed");var h,l;let p;switch(typeof r.clockTolerance){case"string":p=ne(r.clockTolerance);break;case"number":p=r.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:f}=r,y=ee(f||new Date);if((void 0!==i.iat||d)&&"number"!=typeof i.iat)throw new g('"iat" claim must be a number',"iat","invalid");if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new g('"nbf" claim must be a number',"nbf","invalid");if(i.nbf>y+p)throw new g('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new g('"exp" claim must be a number',"exp","invalid");if(i.exp<=y-p)throw new S('"exp" claim timestamp check failed',"exp","check_failed")}if(d){const e=y-i.iat;if(e-p>("number"==typeof d?d:ne(d)))throw new S('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-p)throw new g('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return i};class We extends Error{}class De{constructor({domain:e,clientId:t,clientSecret:r,agent:n,headers:i,timeoutDuration:a,idTokenSigningAlg:s="RS256",clockTolerance:o=60}){this.jwks=function(e,t){const r=new ke(e,t);return async function(e,t){return r.getKey(e,t)}}(new URL(`https://${e}/.well-known/jwks.json`),{timeoutDuration:a,agent:n,headers:i}),this.alg=s,this.audience=t,this.secret=(new TextEncoder).encode(r),this.issuer=`https://${e}/`,this.clockTolerance=o}async validate(e,{nonce:t,maxAge:r,organization:n}={}){const i="HS256"===this.alg?this.secret:this.jwks,a=function(e){let t;if("string"==typeof e){const r=e.split(".");3!==r.length&&5!==r.length||([t]=r)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(u.decode(fe(t)));if(!D(e))throw new Error;return e}catch(e){throw new TypeError("Invalid Token or Protected Header formatting")}}(e),s=function(e){if("string"!=typeof e)throw new _("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new _("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new _("Invalid JWT");if(!t)throw new _("JWTs must contain a payload");let n,i;try{n=fe(t)}catch(e){throw new _("Failed to base64url decode the payload")}try{i=JSON.parse(u.decode(n))}catch(e){throw new _("Failed to parse the decoded payload as JSON")}if(!D(i))throw new _("Invalid JWT Claims Set");return i}(e);if("RS256"!==a.alg&&"HS256"!==a.alg)throw new Error(`Signature algorithm of "${a.alg}" is not supported. Expected the ID token to be signed with "RS256" or "HS256".`);if(!s.iss||"string"!=typeof s.iss)throw new We("Issuer (iss) claim must be a string present in the ID token");if(s.iss!==this.issuer)throw new We(`Issuer (iss) claim mismatch in the ID token; expected "${this.issuer}", found "${s.iss}"`);if(!s.sub||"string"!=typeof s.sub)throw new We("Subject (sub) claim must be a string present in the ID token");if(!s.aud||"string"!=typeof s.aud&&!Array.isArray(s.aud))throw new We("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(s.aud)&&!s.aud.includes(this.audience))throw new We(`Audience (aud) claim mismatch in the ID token; expected "${this.audience}" but was not one of "${s.aud.join(", ")}"`);if("string"==typeof s.aud&&s.aud!==this.audience)throw new We(`Audience (aud) claim mismatch in the ID token; expected "${this.audience}" but found "${s.aud}"`);if(n)if(0===n.indexOf("org_")){if(!s.org_id||"string"!=typeof s.org_id)throw new Error("Organization Id (org_id) claim must be a string present in the ID token");if(s.org_id!==n)throw new Error(`Organization Id (org_id) claim value mismatch in the ID token; expected "${n}", found "${s.org_id}"'`)}else{if(!s.org_name||"string"!=typeof s.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(s.org_name!==n.toLowerCase())throw new Error(`Organization Name (org_name) claim value mismatch in the ID token; expected "${n}", found "${s.org_name}"'`)}const o=Math.floor(Date.now()/1e3);if(!s.exp||"number"!=typeof s.exp)throw new We("Expiration Time (exp) claim must be a number present in the ID token");const c=s.exp+this.clockTolerance;if(o>c)throw new We(`Expiration Time (exp) claim error in the ID token; current time (${o}) is after expiration time (${c})`);if(!s.iat||"number"!=typeof s.iat)throw new We("Issued At (iat) claim must be a number present in the ID token");if(t||s.nonce){if(!s.nonce||"string"!=typeof s.nonce)throw new We("Nonce (nonce) claim must be a string present in the ID token");if(s.nonce!==t)throw new We(`Nonce (nonce) claim mismatch in the ID token; expected "${t}", found "${s.nonce}"`)}if(Array.isArray(s.aud)&&s.aud.length>1){if(!s.azp||"string"!=typeof s.azp)throw new We("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(s.azp!==this.audience)throw new We(`Authorized Party (azp) claim mismatch in the ID token; expected "${this.audience}", found "${s.azp}"`)}if(r){if(!s.auth_time||"number"!=typeof s.auth_time)throw new We("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");const e=s.auth_time+r+this.clockTolerance;if(o>e)throw new We(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time (${o}) is after last auth at ${e}`)}await async function(e,t,r){var n;const i=await Ie(e,t,r);if((null===(n=i.protectedHeader.crit)||void 0===n?void 0:n.includes("b64"))&&!1===i.protectedHeader.b64)throw new _("JWTs MUST NOT use unencoded payload");const a={payload:He(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return"function"==typeof t?{...a,key:i.key}:a}(e,i,{issuer:this.issuer,audience:this.audience,clockTolerance:this.clockTolerance,maxTokenAge:r,algorithms:["HS256","RS256"]})}}class Oe extends ge{constructor(e){super({...e,domain:e.useMTLS?`mtls.${e.domain}`:e.domain}),this.idTokenValidator=new De(e)}async authorizationCodeGrant(e,t={}){return d(e,["code"]),Se("authorization_code",await this.addClientAuthentication(e),t,this.clientId,this.idTokenValidator,this.request.bind(this))}async authorizationCodeGrantWithPKCE(e,t={}){return d(e,["code","code_verifier"]),Se("authorization_code",await this.addClientAuthentication(e),t,this.clientId,this.idTokenValidator,this.request.bind(this))}async clientCredentialsGrant(e,t={}){return d(e,["audience"]),Se("client_credentials",await this.addClientAuthentication(e),t,this.clientId,this.idTokenValidator,this.request.bind(this))}async pushedAuthorization(t,r={}){d(t,["client_id","response_type","redirect_uri"]);const n=await this.addClientAuthentication(t),i=await this.request({path:"/oauth/par",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:this.clientId,...n})},r.initOverrides);return e.fromResponse(i)}async passwordGrant(e,t={}){return d(e,["username","password"]),Se(e.realm?"http://auth0.com/oauth/grant-type/password-realm":"password",await this.addClientAuthentication(e),t,this.clientId,this.idTokenValidator,this.request.bind(this))}async refreshTokenGrant(e,t={}){return d(e,["refresh_token"]),Se("refresh_token",await this.addClientAuthentication(e),t,this.clientId,this.idTokenValidator,this.request.bind(this))}async revokeRefreshToken(e,r={}){d(e,["token"]);const n=await this.request({path:"/oauth/revoke",method:"POST",headers:{"Content-Type":"application/json"},body:await this.addClientAuthentication({client_id:this.clientId,...e})},r.initOverrides);return t.fromResponse(n)}}class Ke extends ge{constructor(e){super(e),this.idTokenValidator=new De(e)}async sendEmail(e,r){d(e,["email"]);const n=await this.request({path:"/passwordless/start",method:"POST",headers:{"Content-Type":"application/json"},body:await this.addClientAuthentication({client_id:this.clientId,connection:"email",...e})},r);return t.fromResponse(n)}async sendSMS(e,r){d(e,["phone_number"]);const n=await this.request({path:"/passwordless/start",method:"POST",headers:{"Content-Type":"application/json"},body:await this.addClientAuthentication({client_id:this.clientId,connection:"sms",...e})},r);return t.fromResponse(n)}async loginWithEmail(e,t={}){d(e,["email","code"]);const{email:r,code:n,...i}=e;return Se("http://auth0.com/oauth/grant-type/passwordless/otp",await this.addClientAuthentication({username:r,otp:n,realm:"email",...i}),t,this.clientId,this.idTokenValidator,this.request.bind(this))}async loginWithSMS(e,t={}){d(e,["phone_number","code"]);const{phone_number:r,code:n,...i}=e;return Se("http://auth0.com/oauth/grant-type/passwordless/otp",await this.addClientAuthentication({username:r,otp:n,realm:"sms",...i}),t,this.clientId,this.idTokenValidator,this.request.bind(this))}}new class{constructor(e){this.database=new be(e),this.oauth=new Oe(e),this.passwordless=new Ke(e)}}({domain:"login.tww-dev.com",clientId:"NXQ5r3MXV6ho1X5pXlhYqFwCXyboyv5R",clientSecret:"6_mW8AawnKIh5tIsSSJV61_nIVYR-u6u5LcApOHQf_3FNEfwwelYbHJ_8ub6nORT"})})();